# AI智能家居网站使用说明

## 🎯 快速开始指南

本文档将指导您如何使用和维护AI智能家居自动化变现网站系统。

---

## 📋 系统要求

### 软件环境
- **Python 3.8+**: 内容生成和数据分析
- **Hugo 0.111.3+**: 静态网站生成
- **Node.js 16+**: (可选) 前端工具链
- **Git**: 版本控制和部署

### 必需的Python包
```bash
pip install -r requirements.txt
```

主要依赖包括：
- `jinja2` - 模板引擎
- `pandas` - 数据处理
- `pytrends` - Google趋势分析
- `requests` - HTTP客户端
- `beautifulsoup4` - 网页解析

---

## 🚀 初始化设置

### 1. 克隆项目
```bash
git clone <repository-url>
cd ai-smarthome
```

### 2. 环境配置
创建 `.env` 文件配置关键参数：
```bash
# AdSense配置
GOOGLE_ADSENSE_ID=ca-pub-XXXXXXXXXXXXXXXX

# Amazon联盟配置
AMAZON_AFFILIATE_TAG=your-affiliate-tag

# Google Analytics
GOOGLE_ANALYTICS_ID=G-XXXXXXXXXX

# Telegram通知 (可选)
TELEGRAM_BOT_TOKEN=your-telegram-bot-token
TELEGRAM_CHAT_ID=your-chat-id

# 部署配置
SITE_URL=https://yourdomain.github.io
```

### 3. Hugo站点初始化
```bash
# 安装Hugo (如果未安装)
# Windows: choco install hugo-extended
# macOS: brew install hugo
# Linux: snap install hugo

# 验证安装
hugo version

# 本地预览
hugo server -D
```

访问 `http://localhost:1313` 预览网站

---

## 📝 内容管理

### 自动内容生成

#### 1. 关键词研究
```bash
cd modules/keyword_tools
python keyword_analyzer.py
```

**功能说明:**
- 自动获取Google Trends热门关键词
- 分析关键词竞争度和商业意图
- 生成相关主题建议
- 输出关键词报告 (CSV格式)

**输出示例:**
```
data/keyword_report_20250830_1400.csv
├── keyword: "smart plug alexa"
├── search_volume: 2400
├── competition_score: 0.65
├── commercial_intent: 0.85
└── suggested_topics: ["How to setup...", "Best options..."]
```

#### 2. 内容生成
```bash
cd modules/content_generator
python anti_ai_content_generator.py
```

**生成参数:**
- `keyword`: 目标关键词
- `category`: 产品类别 (smart_plugs, smart_bulbs, etc.)
- `article_type`: 文章类型 (review, guide, comparison)
- `target_length`: 目标字数 (1500-4000)

**示例调用:**
```python
from modules.content_generator.anti_ai_content_generator import AntiAIContentGenerator

generator = AntiAIContentGenerator()
article = generator.generate_smart_home_article(
    keyword="smart plug alexa",
    category="smart_plugs",
    article_type="review",
    target_length=2500
)
```

**输出文件:**
```markdown
---
title: "Best Smart Plugs for Alexa 2025: Complete Guide"
description: "Discover the top Alexa-compatible smart plugs..."
categories: ["smart-plugs", "alexa-compatible"]
featured_products: [...]
---

## Introduction
Based on extensive testing with over 50 devices...
```

### 手动内容编辑

#### 1. 创建新文章
```bash
# 在content/articles/目录下创建新的.md文件
touch content/articles/new-smart-device-review.md
```

#### 2. 文章前言格式 (Front Matter)
```yaml
---
title: "文章标题"
description: "SEO描述，150-160字符"
date: 2025-08-30T10:00:00Z
categories: ["主分类", "副分类"]
tags: ["标签1", "标签2", "标签3"]
keywords: ["关键词1", "关键词2"]
featured: true                    # 是否在首页推荐
rating: 4.5                      # 产品评分 (1-5)
price: "29.99"                   # 起始价格
featured_image: "/images/xxx.jpg" # 特色图片
author: "Smart Home Team"
featured_products:              # 产品推荐列表
  - name: "产品名称"
    rating: 4.8
    current_price: 29.99
    amazon_url: "https://amazon.com/..."
    features: ["特性1", "特性2"]
    pros_cons:
      pros: ["优点1", "优点2"]
      cons: ["缺点1", "缺点2"]
faq:                           # 常见问题
  - question: "问题1"
    answer: "回答1"
---
```

---

## 🔧 系统维护

### 定期任务

#### 1. 关键词数据更新 (建议：每周)
```bash
# 更新关键词趋势数据
python scripts/update_keywords.py

# 清理过期缓存
python scripts/clear_cache.py --older-than=7d
```

#### 2. 产品价格监控 (建议：每日)
```bash
# 检查产品价格变化
python modules/affiliate_manager/price_monitor.py

# 更新产品数据库
python scripts/update_products.py
```

#### 3. 内容质量检查 (建议：每月)
```bash
# 运行SEO分析
python modules/analytics/seo_analyzer.py

# 检查反AI检测得分
python scripts/content_quality_check.py
```

### 监控和报告

#### 1. 网站性能监控
- 访问 Google PageSpeed Insights
- 检查 Core Web Vitals 得分
- 监控页面加载时间

#### 2. 收入统计
- Google AdSense 报告
- Amazon Associates 佣金报告
- 流量来源分析 (Google Analytics)

#### 3. 搜索排名监控
- Google Search Console
- 关键词排名工具 (可选付费工具)
- 竞争对手分析

---

## 🛠️ 高级功能

### GitHub Actions 自动化

#### 1. 配置自动部署
编辑 `.github/workflows/deploy.yml`:
```yaml
name: Deploy to GitHub Pages
on:
  push:
    branches: [main]
  schedule:
    - cron: '0 3 * * *'  # 每日UTC 3点

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    - name: Setup Hugo
      uses: peaceiris/actions-hugo@v2
      with:
        hugo-version: '0.111.3'
    - name: Build
      run: hugo --minify
    - name: Deploy
      uses: peaceiris/actions-gh-pages@v3
      with:
        github_token: ${{ secrets.GITHUB_TOKEN }}
        publish_dir: ./public
```

#### 2. 设置Secrets
在GitHub仓库设置中添加：
- `GOOGLE_ADSENSE_ID`
- `AMAZON_AFFILIATE_TAG`
- `TELEGRAM_BOT_TOKEN` (如果使用)

### Telegram通知集成

#### 1. 创建Telegram机器人
1. 与 @BotFather 对话
2. 使用 `/newbot` 命令创建机器人
3. 获取Bot Token
4. 将Token添加到环境变量

#### 2. 配置通知脚本
```python
import os
import requests

def send_telegram_notification(message):
    bot_token = os.getenv('TELEGRAM_BOT_TOKEN')
    chat_id = os.getenv('TELEGRAM_CHAT_ID')
    
    if bot_token and chat_id:
        url = f"https://api.telegram.org/bot{bot_token}/sendMessage"
        requests.post(url, data={'chat_id': chat_id, 'text': message})
```

---

## 🎨 自定义和扩展

### 添加新产品类别

#### 1. 更新关键词数据库
编辑 `modules/keyword_tools/keyword_analyzer.py`:
```python
self.smart_home_categories = {
    # 现有类别...
    'smart_locks': [
        'smart lock', 'digital door lock', 'keyless entry',
        'smart door lock', 'wifi door lock'
    ]
}
```

#### 2. 添加产品数据
编辑 `modules/content_generator/anti_ai_content_generator.py`:
```python
'smart_locks': [
    {
        'name': 'August Smart Lock Pro',
        'price': 199.99,
        'rating': 4.3,
        'features': ['Auto-lock', 'Remote access', 'Voice control'],
        'pros': ['Easy installation', 'Works with Alexa'],
        'cons': ['Battery life', 'Price']
    }
]
```

#### 3. 创建专用模板
在 `data/templates/` 目录添加类别特定模板：
```markdown
# smart_locks_template.md
## Security Features
- Encryption standards
- Access logging
- Emergency overrides

## Installation Considerations  
- Door compatibility
- Wi-Fi signal strength
- Battery backup options
```

### 自定义网站样式

#### 1. 修改CSS主题
编辑 `static/css/main.css`:
```css
/* 自定义颜色方案 */
:root {
    --primary-color: #007bff;
    --secondary-color: #6c757d;
    --success-color: #28a745;
}

/* 自定义组件样式 */
.custom-product-card {
    border-radius: 12px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}
```

#### 2. 添加自定义JavaScript
创建 `static/js/custom.js`:
```javascript
// 产品比较功能
function toggleProductComparison(productId) {
    // 实现产品比较逻辑
}

// 价格追踪功能
function trackProductPrice(productUrl) {
    // 实现价格追踪逻辑
}
```

### 多语言扩展

#### 1. 添加新语言支持
编辑 `config.toml`:
```toml
[languages.es]
    contentDir = "content-es"
    languageName = "Español"
    weight = 3
```

#### 2. 创建语言特定内容
```bash
mkdir content-es/articles
touch content-es/_index.md
```

#### 3. 翻译模板和配置
- 复制并翻译导航菜单
- 翻译产品推荐和描述
- 适配本地化的联盟链接

---

## 🚨 故障排除

### 常见问题

#### 1. Hugo构建失败
**症状**: `hugo server` 或构建命令报错
**解决方案**:
```bash
# 检查Hugo版本
hugo version

# 检查配置文件语法
hugo config

# 查看详细错误信息
hugo --verbose
```

#### 2. Python模块导入错误
**症状**: `ModuleNotFoundError: No module named 'xxx'`
**解决方案**:
```bash
# 检查Python环境
python --version
pip list

# 重新安装依赖
pip install -r requirements.txt

# 检查PYTHONPATH
export PYTHONPATH="${PYTHONPATH}:/path/to/project"
```

#### 3. Google Trends API限制
**症状**: `TooManyRequestsError` 或超时
**解决方案**:
- 增加请求间隔时间 (修改 `request_delay` 参数)
- 使用代理服务器轮换IP
- 启用更长的缓存时间

#### 4. 内容生成质量问题
**症状**: AI检测得分过低或内容重复
**解决方案**:
- 调整反AI检测参数
- 增加内容模板变化
- 人工审核和修改生成内容

### 性能优化

#### 1. 网站加载速度
```bash
# 压缩图片
npm install -g imagemin-cli
imagemin static/images/* --out-dir=static/images/compressed

# 启用Hugo资源压缩
hugo --minify

# 使用CDN加速静态资源
# 修改config.toml中的baseURL
```

#### 2. SEO优化
```bash
# 生成XML站点地图
hugo --enableGitInfo

# 检查内部链接
linkchecker http://localhost:1313

# 验证结构化数据
# 使用Google的结构化数据测试工具
```

---

## 📊 成功指标监控

### KPI追踪

#### 1. 流量指标
- **月度访问量**: 目标 10,000+ UV/月
- **页面浏览量**: 目标 25,000+ PV/月
- **平均会话时长**: 目标 2分钟+
- **跳出率**: 目标 <70%

#### 2. 收入指标
- **AdSense RPM**: 目标 $2.00+
- **Amazon转化率**: 目标 3%+
- **每访客价值**: 目标 $0.05+
- **月度收入**: 目标 $500+

#### 3. 内容质量指标
- **平均文章字数**: 2000+ 字
- **反AI检测得分**: 0.7+
- **SEO优化得分**: 0.8+
- **用户参与度**: 点赞/分享/评论

### 定期报告

#### 1. 每周报告
- 新发布文章数量
- 关键词排名变化
- 收入数据更新

#### 2. 每月报告
- 流量趋势分析
- 收入增长情况
- 竞争对手比较
- 优化建议

#### 3. 季度报告
- 整体策略评估
- 技术债务清理
- 新功能需求评估

---

## 📞 技术支持

### 获取帮助
1. **查看日志文件**: `logs/` 目录下的错误日志
2. **检查状态页面**: 访问 `/admin/status/` (如果配置)
3. **社区支持**: Hugo、Python相关社区论坛
4. **文档参考**: 查看本目录下其他技术文档

### 联系信息
- **项目文档**: 参考 `dev-docs/` 目录
- **技术决策**: 参考 `技术决策记录.md`
- **开发进度**: 参考 `开发进度.md`

### 版本更新
- 定期检查Hugo和Python依赖包更新
- 关注Google AdSense和Amazon Associates政策变化
- 监控搜索引擎算法更新，及时调整SEO策略

---

**最后更新**: 2025年8月30日  
**文档版本**: v1.0  
**适用系统**: AI Smart Home Hub v1.0-beta